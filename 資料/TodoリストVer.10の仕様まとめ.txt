────────────────────────
Todoの仕様まとめ

■ タスクの追加・編集
タスクは追加時・編集時ともに、専用ダイアログ（Unit_ToggleTask）から設定する。
設定できる内容は以下。

・タスク名
・優先度（1～5）
・カテゴリ
・期限（日付）
・進行状況（未着手／進行中／保留）
・タグ（カンマ区切りで複数指定可）

■ タスクの完了／未完了切り替え
メイン一覧の左端にあるチェックボックスをクリックすると、
タスクの完了／未完了を切り替えられる。
完了したタスクは、メイン一覧からは自動的に非表示になる。

■ 完了タスクの確認・復元
「完了タスク」ボタンを押すと、完了済みタスク専用のウィンドウを表示する。
一覧内のチェック（✔）をクリックすると完了解除となり、
そのままメイン画面の未完了タスクリストに戻る。

────────────────────────
検索・フィルタについて

■ 検索
タスク名に対して部分一致で検索できる。

■ フィルタ
以下の条件でタスクを絞り込める。

・優先度
・カテゴリ
・ステータス（未着手／進行中／保留）
・タグ
　※ タグは登録済みのものを自動収集し、重複はしない

フィルタをすべて解除するためのボタンも用意する。

────────────────────────
並び替え（ソート）

タスク一覧の列ヘッダをクリックすると、その列で並び替えを行う。

対象列
・タスク名
・優先度
・カテゴリ
・期限
・ステータス

同じ列をもう一度クリックすると、昇順／降順が切り替わる。

────────────────────────
見た目・使い勝手

■ 期限による色分け
期限までの残り日数に応じて、タスク行の背景色を変える。
日数の区切りや色の設定は setting.ini で調整できるようにする。

■ 列幅の自動調整
タスク名とタグの列は、中身の長さに応じて自動的に広がるようにする。

────────────────────────
通知機能

期限に関する通知を Timer でチェックし、以下のタイミングで表示する。

・yyyy/mm/dd 23:59に対して30分間隔

通知は ShowMessage を使用する。

────────────────────────
データの保存・管理

■ 保存とバックアップ
タスクデータは Documents\tasks.json に自動保存する。
保存のたびに TaskBackups フォルダへバックアップを作成し、
タイムスタンプ付きで複数世代残す。

■ CSVエクスポート／インポート

エクスポート
・現在表示されているタスクのみをCSVに出力する
・文字コードはUTF-8
・タグは「|」区切りで保存

インポート
・CSVの内容で全置換する
・この操作は Undo で戻せるようにする

────────────────────────
操作履歴（Undo / Redo）

以下の操作を Undo / Redo の対象とする。

・タスク追加
・タスク編集
・タスク削除
・完了／未完了切り替え
・一括削除
・CSVインポート

ショートカット
・Ctrl + Z：Undo
・Ctrl + Y：Redo

────────────────────────
右クリック操作

タスクを右クリックすると、優先度を 1～5 の中から即座に変更できる。

────────────────────────